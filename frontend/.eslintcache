[{"/Users/kaye/Desktop/git-test/retry/frontend/src/index.js":"1","/Users/kaye/Desktop/git-test/retry/frontend/src/reportWebVitals.js":"2","/Users/kaye/Desktop/git-test/retry/frontend/src/App.js":"3","/Users/kaye/Desktop/git-test/retry/frontend/src/components/RegisterPage/Register.js":"4","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LoginPage/Login.js":"5","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/Header.js":"6","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/SmallMenu.js":"7","/Users/kaye/Desktop/git-test/retry/frontend/src/actions/user_actions.js":"8","/Users/kaye/Desktop/git-test/retry/frontend/src/api/users.js":"9","/Users/kaye/Desktop/git-test/retry/frontend/src/actions/actionTypes.js":"10","/Users/kaye/Desktop/git-test/retry/frontend/src/reducers/index.js":"11","/Users/kaye/Desktop/git-test/retry/frontend/src/reducers/user_reducer.js":"12","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/Home.js":"13","/Users/kaye/Desktop/git-test/retry/frontend/src/components/UploadVideoPage/UploadVideo.js":"14","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/VideoCard.js":"15","/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/VideoPage.js":"16","/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/SelectedVideo.js":"17","/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/Thumbnail.js":"18","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/DrawerMenu.js":"19","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/DrawerMenuItem.js":"20"},{"size":875,"mtime":1609959026000,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1609877960000,"results":"23","hashOfConfig":"22"},{"size":1571,"mtime":1609972742000,"results":"24","hashOfConfig":"22"},{"size":6765,"mtime":1609946926000,"results":"25","hashOfConfig":"22"},{"size":3460,"mtime":1610016280000,"results":"26","hashOfConfig":"22"},{"size":3736,"mtime":1610017167000,"results":"27","hashOfConfig":"22"},{"size":1425,"mtime":1610015048000,"results":"28","hashOfConfig":"22"},{"size":1214,"mtime":1609948654000,"results":"29","hashOfConfig":"22"},{"size":519,"mtime":1609959380000,"results":"30","hashOfConfig":"22"},{"size":141,"mtime":1609939578000,"results":"31","hashOfConfig":"22"},{"size":145,"mtime":1609931425000,"results":"32","hashOfConfig":"22"},{"size":625,"mtime":1609948624000,"results":"33","hashOfConfig":"22"},{"size":1278,"mtime":1610012897000,"results":"34","hashOfConfig":"22"},{"size":11012,"mtime":1609969131000,"results":"35","hashOfConfig":"22"},{"size":1259,"mtime":1609971056000,"results":"36","hashOfConfig":"22"},{"size":609,"mtime":1609973370000,"results":"37","hashOfConfig":"22"},{"size":4351,"mtime":1609973442000,"results":"38","hashOfConfig":"22"},{"size":1597,"mtime":1610006998000,"results":"39","hashOfConfig":"22"},{"size":2565,"mtime":1610017250000,"results":"40","hashOfConfig":"22"},{"size":365,"mtime":1610014271000,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1tbdar4",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"44"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/Users/kaye/Desktop/git-test/retry/frontend/src/index.js",[],["86","87"],"/Users/kaye/Desktop/git-test/retry/frontend/src/reportWebVitals.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/App.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/RegisterPage/Register.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/LoginPage/Login.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/Header.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/SmallMenu.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/actions/user_actions.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/api/users.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/actions/actionTypes.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/reducers/index.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/reducers/user_reducer.js",["88"],"import { CREATE_USER, LOGIN, AUTH_USER, LOGOUT } from '../actions/actionTypes';\n\nexport default (state={}, action) => {\n    switch (action.type){\n        case CREATE_USER:\n            return action.payload;\n        \n        case LOGIN:\n            console.log(action.payload);\n            return action.payload;\n\n        case AUTH_USER:\n            console.log(action.payload);\n            return {...state,\n                    userAuth: action.payload\n                    };\n\n        case LOGOUT:\n            console.log(action.payload);\n            return action.payload;\n\n        default:\n            return state;\n    }\n}","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/Home.js",["89","90","91"],"import React,{ useState, useEffect } from 'react';\nimport './Home.css';\nimport VideoCard from './VideoCard';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { Grid, Typography } from '@material-ui/core';\n\nfunction Home() {\n\n    const [Videos, setVideos] = useState([]);\n\n    return (\n        <div className='home'>\n            <Typography variant=\"h5\">Recommended</Typography>\n            <hr />\n            <Grid container spacing={2}>\n                <Grid item xs={6} sm={4} md={3}>\n                {Videos.map((video) => (\n                    <VideoCard \n                        videoId={video._id}\n                        image={`http://localhost:5000/${video.thumbnail}`}\n                        title={video.title}\n                        channel={video.writer.name}\n                        views={video.views}\n                        timestamp={moment(video.createdAt).format(\"MMM DD YYYY\")}\n                        channelImage={video.writer.avatarImage}\n                        minutes={Math.floor(video.duration / 60)}\n                        seconds={Math.floor(video.duration - (Math.floor(video.duration / 60)) * 60)}\n                    />\n                ))}\n                </Grid>\n            </Grid>\n        </div>\n    )\n}\n\nexport default Home\n","/Users/kaye/Desktop/git-test/retry/frontend/src/components/UploadVideoPage/UploadVideo.js",["92","93","94","95","96","97"],"import React, { useState, useEffect } from 'react'\nimport \"./UploadVideo.css\" ;\nimport { Typography, Button, TextField, MenuItem, Backdrop, CircularProgress, Dialog, DialogTitle, DialogContentText, DialogActions, DialogContent } from \"@material-ui/core\";\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport { useSelector } from 'react-redux';\nimport { Link, useHistory } from 'react-router-dom';\nimport Dropzone from \"react-dropzone\";\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\n\nconst Private = [\n    { value: 0, label:'Private' },\n    { value: 1, label: 'Public' }\n]\n\nconst Category = [\n    { value: 'Film & Animation', label:'Film & Animation' },\n    { value: 'Autos & Vehcles', label: 'Autos & Vehcles' },\n    { value: 'Music', label: 'Music' },\n    { value: 'Pets & Animals', label: 'Pets & Animals' },\n    { value: 'Sports', label: 'Sports' }\n]\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nfunction UploadVideoPage() {\n\n    const url = 'http://localhost:5000';\n    const user = useSelector(state =>state.user);\n    const history = useHistory();\n    console.log(user);\n\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [privacy, setPrivacy] = useState(0);\n    const [categories, setCategories] = useState(0);\n    const [filePath, setFilePath] = useState(\"\");\n    const [duration, setDuration] = useState(\"\");\n    const [thumbnail, setThumbnail] = useState(\"\");\n\n    const handleChangeTitle = (e) => {\n        setTitle(e.target.value)\n    }\n\n    const handleChangeDescription = (e) => {\n        setDescription(e.target.value)\n    }\n\n    const handleChangeOne = (e) => {\n        setPrivacy(e.target.value)\n    }\n\n    const handleChangeTwo = (e) => {\n        setCategories(e.target.value)\n    }\n\n    const [file, setFile] = useState({});\n    const [errorMsg, setErrorMsg] = useState('');\n\n    const onDrop = async ( Files ) => {\n        // setLoading(!loading);\n        setFile(Files[0]);\n        try {\n            const formData = new FormData();\n            formData.append('file', Files[0]);\n            \n            const config = { \"content-type\": \"multiport/form-data\" }\n\n            await axios.post(`${url}/api/video/uploadvideo`, formData, config)\n            .then(res => {\n                if(res.data.success){\n                    let videoData = {\n                        filePath: res.data.filePath,\n                        fileName: res.data.fileName\n                    }\n                    setFilePath(res.data.filePath);\n\n                    axios.post(`${url}/api/video/thumbnail`, videoData)\n                    .then(res => {\n                        if(res.data.success) {\n                            setDuration(res.data.fileDuration);\n                            setThumbnail(res.data.thumbsFilePath);\n                        } else {\n                            alert('Failed to make the thumbnail');\n                        };\n                    });\n\n                } else {\n                    alert('failed to save the video in server');\n                }\n            });\n        } catch (error) {\n            console.log('something is wrong', error);\n        }\n    }; \n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setErrorMsg('');\n\n        if (title !== '' && description !== ''){\n            if (file) {\n                const dataToSubmit = {\n                    writer: user.user._id,\n                    title: title,\n                    description: description,\n                    privacy: privacy,\n                    categories: categories,\n                    filePath: filePath,\n                    duration: duration,\n                    thumbnail: thumbnail\n                }\n\n                axios.post(`${url}/api/video/upload`, dataToSubmit)\n                .then(res => {\n                    if(res.data.successUpload) {\n                        alert('successed to upload video!!');\n                        history.push('/');\n                    } else {\n                         alert('failed to upload video');\n                    }\n                })\n            } else {\n                setErrorMsg('Please select a file to add.');\n            }\n        } else {\n            setErrorMsg('Please enter all the field values.');\n        }\n    };\n\n    useEffect(() => {\n        if(thumbnail){\n            setLoading(false);\n        }\n    },[thumbnail]);\n\n    // if(user.loginSuccess){\n    return (\n        <div className=\"uploadVideo\">\n            <div className=\"uploadVideo__container\">\n                <div className='uploadVideo__title'>\n                    <Typography variant=\"h4\">Upload Video</Typography>\n                </div>\n\n                <form autoComplete=\"off\" onSubmit={handleSubmit} > \n                    <div className=\"uploadVideo__container__form\">\n                        <div className=\"uploadVideo__container__left\">\n                            <TextField \n                                required\n                                onChange={handleChangeTitle} \n                                value={title} \n                                label=\"Title\"\n                                fullWidth\n                            />\n                            <br /><br />\n                            <TextField\n                                required\n                                onChange={handleChangeDescription}\n                                value={description}\n                                label=\"Description\"\n                                fullWidth\n                                multiline\n                            />\n                            <br /><br />\n                            <TextField\n                                required\n                                select\n                                label=\"privacy\"\n                                onChange={handleChangeOne}\n                                helperText=\"Please select a privacy\"\n                                >\n                                {Private.map((item, index) => (\n                                    <MenuItem key={index} value={item.value}>\n                                    {item.label}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                            <br />\n                            <TextField\n                                required\n                                select\n                                label=\"category\"\n                                onChange={handleChangeTwo}\n                                helperText=\"Please select a category\"\n                                >\n                                {Category.map((item, index) => (\n                                    <MenuItem key={index} value={item.value}>\n                                    {item.label}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        </div>\n\n                        <div className=\"uploadVideo__container__right\">\n                            <div className=\"uploadVideo__dropzone\">\n                                <Dropzone \n                                    onDrop={onDrop}\n                                    multiple={false}\n                                    accept=\"video/mp4\"\n                                    maxSize={800000000}>\n                                    {({getRootProps, getInputProps}) => (\n                                        <div className=\"uploadVideo__dropzone__input\" {...getRootProps()}>\n                                            <input {...getInputProps()} />\n                                            <AddCircleIcon color=\"disabled\" style={{ fontSize: 30 }} />\n                                            <br />\n                                            <p>\n                                                Drag and drop a file OR click here to select a file\n                                            </p>\n                                        </div>\n                                    )}\n                                </Dropzone>\n                            </div>\n                            <br />\n                            {thumbnail !== \"\" &&\n                                <div>\n                                    <img src={`${url}/${thumbnail}`}\n                                        alt='hahaha' />\n                                </div>\n                            }\n                            {file && (\n                                <div>\n                                    <strong>Selected file:</strong> {file.name}\n                                </div>\n                            )}\n                            {errorMsg ? \n                                <div className=\"Uploadvideo__errorMessage\">\n                                    <WarningIcon color=\"secondary\"/>\n                                    <p>{errorMsg}</p>\n                                </div> : null\n                            }\n                            <br />\n                            <div className=\"uploadVideo__button\">\n                                <Button variant=\"contained\" color=\"primary\" size=\"large\" type='submit' \n                                onClick={handleSubmit}>\n                                    Upload\n                                </Button>\n                            </div>\n                        </div>\n                    </div> \n                </form>\n            </div>\n            <Backdrop className={classes.backdrop} open={loading} >\n                <CircularProgress color=\"inherit\" />\n                <p>Loading......</p>\n            </Backdrop>\n        </div>\n    )\n    // )} else {\n    //     return (\n    //         <div>\n    //             <Dialog\n    //                 open={true}\n    //                 aria-labelledby=\"alert-dialog-title\"\n    //                 aria-describedby=\"alert-dialog-description\"\n    //             >\n    //                 <DialogTitle id=\"alert-dialog-title\">{\"Are you registered?\"}</DialogTitle>\n    //                 <DialogContent>\n    //                 <DialogContentText id=\"alert-dialog-description\">\n    //                     To upload videos, please sign in first!\n    //                 </DialogContentText>\n    //                 </DialogContent>\n    //                 <DialogActions>\n    //                 <Link to={'/user/login'}>\n    //                     <Button color=\"primary\">\n    //                         SIGN IN\n    //                     </Button>\n    //                 </Link>\n    //                 </DialogActions>\n    //             </Dialog>\n    //         </div>\n    //     )\n    // }\n}\n\nexport default UploadVideoPage\n","/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/VideoCard.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/VideoPage.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/SelectedVideo.js",[],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/VideoPage/Thumbnail.js",["98","99","100"],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/DrawerMenu.js",["101"],"/Users/kaye/Desktop/git-test/retry/frontend/src/components/LandingPage/DrawerMenuItem.js",[],{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","severity":1,"message":"107","line":3,"column":1,"nodeType":"108","endLine":25,"endColumn":2},{"ruleId":"109","severity":1,"message":"110","line":1,"column":26,"nodeType":"111","messageId":"112","endLine":1,"endColumn":35},{"ruleId":"109","severity":1,"message":"113","line":4,"column":8,"nodeType":"111","messageId":"112","endLine":4,"endColumn":13},{"ruleId":"109","severity":1,"message":"114","line":10,"column":20,"nodeType":"111","messageId":"112","endLine":10,"endColumn":29},{"ruleId":"109","severity":1,"message":"115","line":3,"column":79,"nodeType":"111","messageId":"112","endLine":3,"endColumn":85},{"ruleId":"109","severity":1,"message":"116","line":3,"column":87,"nodeType":"111","messageId":"112","endLine":3,"endColumn":98},{"ruleId":"109","severity":1,"message":"117","line":3,"column":100,"nodeType":"111","messageId":"112","endLine":3,"endColumn":117},{"ruleId":"109","severity":1,"message":"118","line":3,"column":119,"nodeType":"111","messageId":"112","endLine":3,"endColumn":132},{"ruleId":"109","severity":1,"message":"119","line":3,"column":134,"nodeType":"111","messageId":"112","endLine":3,"endColumn":147},{"ruleId":"109","severity":1,"message":"120","line":6,"column":10,"nodeType":"111","messageId":"112","endLine":6,"endColumn":14},{"ruleId":"109","severity":1,"message":"110","line":1,"column":17,"nodeType":"111","messageId":"112","endLine":1,"endColumn":26},{"ruleId":"109","severity":1,"message":"113","line":3,"column":8,"nodeType":"111","messageId":"112","endLine":3,"endColumn":13},{"ruleId":"109","severity":1,"message":"114","line":9,"column":20,"nodeType":"111","messageId":"112","endLine":9,"endColumn":29},{"ruleId":"109","severity":1,"message":"120","line":18,"column":10,"nodeType":"111","messageId":"112","endLine":18,"endColumn":14},"no-native-reassign",["121"],"no-negated-in-lhs",["122"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","'setVideos' is assigned a value but never used.","'Dialog' is defined but never used.","'DialogTitle' is defined but never used.","'DialogContentText' is defined but never used.","'DialogActions' is defined but never used.","'DialogContent' is defined but never used.","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]